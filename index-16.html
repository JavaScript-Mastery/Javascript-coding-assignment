<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="keywords" content="Assignment">
    <title>Coding Assisement</title>
    <link rel="stylesheet" href="./style.css">    
</head>
<body>
 
    <h2>16. Promises, Async/ Await </h2>

    

         <!-- ====== write code -->
    
    <div class="Que">   
        <p>Que.1 Write one example explaining how you can write a callback function.</p>
        
        <pre>
  function greeting(name, callback) {
    console.log('Hello ' + name + '!');
    callback();
  }
  
  function sayGoodbye() {
    console.log('Goodbye!');
  }
  
  greeting('Ajay', sayGoodbye);
        </pre>

          <p
        style="
          border: 2px solid green;
          width: 70%;
          padding: 10px;
          border-radius: 8px;
          background-color: bisque;
          display: flex;
        "
      >
      
        <strong>Output: &nbsp;</strong>
        <span>Hello Ajay! <br> Goodbye!</span>
      </p>
        <p
        style="
          border: 2px solid green;
          width: 70%;
          padding: 10px;
          border-radius: 8px;
          background-color: bisque;
          display: flex;
        "
      >
        <strong>Explaination: &nbsp;</strong>
        <span style="color: rgb(3, 92, 3); font-style: italic;">&nbsp; So in summary, a callback function is a function that is passed as an argument to another function, and is executed at a later time or in response to some event. In this example, sayGoodbye is a callback function that is executed after the greeting function is called.</span>
      </p>
        <p>Que.2 Write a callback function to print numbers from 1 to 7, in which 1 should be printed after 1 sec, 2 should be printed after 2 sec, 3 should be printed after 3 sec, and so on. 
     </p><p
        style="
          border: 2px solid green;
          width: 70%;
          padding: 10px;
          border-radius: 8px;
          background-color: rgb(103, 96, 88);
          display: flex; color: rgb(254, 254, 254);
        "
      >
        <strong>Explain callback hell Numbers: &nbsp;</strong>
        <span style="font-style: italic;">&nbsp; 1 <br> &nbsp; 2 <br>&nbsp; 3 <br> &nbsp; 4 <br> &nbsp; 6 <br>&nbsp; 7 </span>
      </p>

        <pre>
  function printNumbersWithDelay(callback) {
    let count = 1;
    const interval = setInterval(() => {
      console.log(count);
      count++;
      if (count > 7) {
        clearInterval(interval);
        if (callback) {
          callback();
        }
      }
    }, 1000);
  }
  printNumbersWithDelay(() => {
    console.log('All done!');
  });
        </pre>
       <p
        style="
          border: 2px solid green;
          width: 90%;
          padding: 10px;
          border-radius: 8px;
          background-color: bisque;
          display: flex;
        "
      >
        <strong>Explaination: &nbsp;</strong>
        <span style="color: rgb(3, 92, 3);">&nbsp;  This code defines a function called printNumbersWithDelay that takes a single argument, callback, which is a function that will be executed once the function has finished printing numbers. <br><br>

Within the function, a variable count is initialized to 1. The function then creates an interval using setInterval, which repeatedly executes a callback function after a specified delay of 1000 milliseconds (1 second). The callback function logs the current value of count to the console and then increments it. <br><br>

The interval continues to run until count is greater than 7. At that point, the interval is cleared using clearInterval, and if a callback function was provided, it is called. <br><br>

Finally, the printNumbersWithDelay to the console once the printNumbersWithDelay function has finished executing.       
</span>
      </p> 

       <p>Que.3 Write the promise function to print numbers from 1 to 7, in which 1 should be printed after 1 sec, 2 should be printed after 2 sec, 3 should be printed after 3 sec, and so on.  
     </p><p
        style="
          border: 2px solid green;
          width: 70%;
          padding: 10px;
          border-radius: 8px;
          background-color: rgb(103, 96, 88);
          display: flex; color: rgb(254, 254, 254);
        "
      >
        <strong>Numbers: &nbsp;</strong>
        <span style="font-style: italic;">&nbsp; 1 <br> &nbsp; 2 <br>&nbsp; 3 <br> &nbsp; 4 <br> &nbsp; 6 <br>&nbsp; 7 </span>
      </p>  
      <pre>
  function printNumbersWithDelay() {
    return new Promise((resolve, reject) => {
      let i = 1;
      const intervalId = setInterval(() => {
        console.log(i);
        i++;
        if (i > 7) {
          clearInterval(intervalId);
          resolve();
        }
      }, i * 1000);
    });
  }
  
  printNumbersWithDelay()
    .then(() => console.log("Finished!"))
    .catch((error) => console.error(error));
      </pre>
      <p>Que.4 Create a promise function accepting an argument, if yes is passed to the function then it should go to resolved state and print Promise Resolved, and if nothing is passed 
then it should go to reject the state and catch the error and print Promise Rejected </p>
        <pre>
  function promiseFunction(arg) {
    return new Promise((resolve, reject) => {
      if (arg === "yes") {
        resolve("Promise Resolved");
      } else {
        reject("Promise Rejected");
      }
    });
  }
  promiseFunction("yes")
    .then((result) => console.log(result))
    .catch((error) => console.log(error));
        </pre>

         <p>Que.5 Create examples to explain callback function</p>
        <pre>
  function fetchData(callback) {
    setTimeout(() => {
      const data = { name: "Ajay", age: 22 };
      callback(data);
    }, 1000);
  }
  
  fetchData((data) => {
    console.log(data); // { name: "Ajay", age: 22 }
  });
        </pre>

        <p
        style="
          border: 2px solid green;
          width: 70%;
          padding: 10px;
          border-radius: 8px;
          background-color: rgb(103, 96, 88);
          display: flex; color: rgb(254, 254, 254);
        "
      >
        <strong>Explain: &nbsp;</strong>
        <span style="font-size: 20px;">&nbsp; In this example, fetchData simulates an asynchronous operation that takes 1 second to complete. When the operation is done, it calls the callback function with the fetched data. We pass a callback function as an argument to fetchData and log the data to the console when it's returned.</span>
      </p>
        
        <p>Que.6 Create examples to explain callback hell function</p>
        <pre>
  function getData(callback) {
    setTimeout(function() {
      callback('Data received');
    }, 2000);
  }
  
  getData(function(data) {
    console.log(data);
  
    getData(function(data) {
      console.log(data);
  
      getData(function(data) {
        console.log(data);
      });
    });
  });
        </pre>
        <p>Que.7 Create examples to explain promises function</p>
        <pre>
  sconst myPromise = new Promise((resolve, reject) => {
  s  setTimeout(() => {
  s    resolve("Hello, World!");
  s  }, 1000);
  s});
  s
  smyPromise.then((message) => {
  s  console.log(message); // logs "Hello, World!" after 1 second
  s});
        </pre>
        <p>Que.8 Create examples to explain async await function</p>
        <pre>  
  async function fetchData() {
    try {
      const response = await fetch('https://jsonplaceholder.typicode.com/todos/1'); // Fetch data from API
      const data = await response.json(); // Parse response to JSON
      console.log(data); // Log the data
    } catch (error) {
      console.error('Error fetching data:', error); // Log any errors
    }
  }
  
  fetchData(); // Call the async function
        </pre>
    
    
        <p>Que.9 Create examples to explain promise.all function</p>
        <pre>            
  // Imagine we have three APIs to fetch data from
  const api1 = 'https://jsonplaceholder.typicode.com/todos/1';
  const api2 = 'https://jsonplaceholder.typicode.com/todos/2';
  const api3 = 'https://jsonplaceholder.typicode.com/todos/3';
  
  // We can use `Promise.all` to fetch data from all three APIs simultaneously
  const promises = [fetch(api1), fetch(api2), fetch(api3)];
  
  Promise.all(promises)
    .then(responses => {
      // responses is an array of resolved values from the input promises
      // We can access the data from each response and process it as needed
      const data1 = responses[0].json();
      const data2 = responses[1].json();
      const data3 = responses[2].json();
      console.log(data1, data2, data3);
    })
    .catch(error => {
      // If any of the promises reject, the error will be caught here
      console.error(error);
    });

        </pre>
    </div> 
    

    <div class="container">
        <div class="row"><a href="./index-15.html">Back</a></div>
        <div class="row"><a href="./index.html">Next</a></div>
    </div>

      
</body>6</html>
